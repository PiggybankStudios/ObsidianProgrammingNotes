## Notes
- [ ] `long double` is an allowed type in WASM32 but casting that `long double` to `double` results in an import for `__trunctfdf2` being generated. We're just not going to use long doubles for now...
- [ ] `C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.37.32822\include\vcruntime.h`
- [ ] `Math.h` Notes
	- [ ] https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html
	- [ ] Outside strict ISO C mode (`-ansi`, `-std=c90`, `-std=c99` or `-std=c11`), the functions (below) may be handled as built-in functions. All these functions have corresponding versions prefixed with `__builtin_`, which may be used even in strict C90 mode. 
		- `_exit`     `ffsl`             `j0f`       `pow10f`          `signbitl`     `strdup`      `ynl`
		- `alloca`    `ffs`              `j0l`       `pow10l`          `signbitd32`   `strfmon`     `yn`
		- `bcmp`      `fprintf_unlocked` `j0`        `pow10`           `signbitd64`   `strncasecmp`
		- `bzero`     `fputs_unlocked`   `j1f`       `printf_unlocked` `signbitd128`  `strndup`
		- `dcgettext` `gammaf`           `j1l`       `rindex`          `significandf` `strnlen`
		- `dgettext`  `gammal`           `j1`        `roundeven`       `significandl` `toascii`
		- `dremf`     `gamma`            `jnf`       `roundevenf`      `significand`  `y0f`
		- `dreml`     `gammaf_r`         `jnl`       `roundevenl`      `sincosf`      `y0l`
		- `drem`      `gammal_r`         `jn`        `scalbf`          `sincosl`      `y0`
		- `exp10f`    `gamma_r`          `lgammaf_r` `scalbl`          `sincos`       `y1f`
		- `exp10l`    `gettext`          `lgammal_r` `scalb`           `stpcpy`       `y1l`
		- `exp10`     `index`            `lgamma_r`  `signbit`         `stpncpy`      `y1`
		- `ffsll`     `isascii`          `mempcpy`   `signbitf`        `strcasecmp`   `ynf`
	- [ ] The ISO C99 functions (below) are handled as built-in functions except in strict ISO C90 mode (`-ansi` or `-std=c90`).
		- `_Exit`     `catanhl`   `cpow`     `exp2`     `llrintl`     `remainderl`
		- `acoshf`    `catanh`    `cprojf`   `expm1f`   `llrint`      `remainder`
		- `acoshl`    `catanl`    `cprojl`   `expm1l`   `llroundf`    `remquof`
		- `acosh`     `catan`     `cproj`    `expm1`    `llroundl`    `remquol`
		- `asinhf`    `cbrtf`     `crealf`   `fdimf`    `llround`     `remquo`
		- `asinhl`    `cbrtl`     `creall`   `fdiml`    `log1pf`      `rintf`
		- `asinh`     `cbrt`      `creal`    `fdim`     `log1pl`      `rintl`
		- `atanhf`    `ccosf`     `csinf`    `fmaf`     `log1p`       `rint`
		- `atanhl`    `ccoshf`    `csinhf`   `fmal`     `log2f`       `roundf`
		- `atanh`     `ccoshl`    `csinhl`   `fmaxf`    `log2l`       `roundl`
		- `cabsf`     `ccosh`     `csinh`    `fmaxl`    `log2`        `round`
		- `cabsl`     `ccosl`     `csinl`    `fmax`     `logbf`       `scalblnf`
		- `cabs`      `ccos`      `csin`     `fma`      `logbl`       `scalblnl`
		- `cacosf`    `cexpf`     `csqrtf`   `fminf`    `logb`        `scalbln`
		- `cacoshf`   `cexpl`     `csqrtl`   `fminl`    `lrintf`      `scalbnf`
		- `cacoshl`   `cexp`      `csqrt`    `fmin`     `lrintl`      `scalbnl`
		- `cacosh`    `cimagf`    `ctanf`    `hypotf`   `lrint`       `scalbn`
		- `cacosl`    `cimagl`    `ctanhf`   `hypotl`   `lroundf`     `snprintf`
		- `cacos`     `cimag`     `ctanhl`   `hypot`    `lroundl`     `tgammaf`
		- `cargf`     `clogf`     `ctanh`    `ilogbf`   `lround`      `tgammal`
		- `cargl`     `clogl`     `ctanl`    `ilogbl`   `nearbyintf`  `tgamma`
		- `carg`      `clog`      `ctan`     `ilogb`    `nearbyintl`  `truncf`
		- `casinf`    `conjf`     `erfcf`    `imaxabs`  `nearbyint`   `truncl`
		- `casinhf`   `conjl`     `erfcl`    `isblank`  `nextafterf`  `trunc`
		- `casinhl`   `conj`      `erfc`     `iswblank` `nextafterl`  `vfscanf`
		- `casinh`    `copysignf` `erff`     `lgammaf`  `nextafter`   `vscanf`
		- `casinl`    `copysignl` `erfl`     `lgammal`  `nexttowardf` `vsnprintf`
		- `casin`     `copysign`  `erf`      `lgamma`   `nexttowardl` `vsscanf`
		- `catanf`    `cpowf`     `exp2f`    `llabs`    `nexttoward`
		- `catanhf`   `cpowl`     `exp2l`    `llrintf`  `remainderf`
	- [ ] There are also built-in versions of the ISO C99 functions (below) that are recognized in any mode since ISO C90 reserves these names for the purpose to which ISO C99 puts them. All these functions have corresponding versions prefixed with `__builtin_`.
		- `acosf`  `coshf`  `frexpf` `powl`
		- `acosl`  `coshl`  `frexpl` `sinf`
		- `asinf`  `cosl`   `ldexpf` `sinhf`
		- `asinl`  `expf`   `ldexpl` `sinhl`
		- `atan2f` `expl`   `log10f` `sinl`
		- `atan2l` `fabsf`  `log10l` `sqrtf`
		- `atanf`  `fabsl`  `logf`   `sqrtl`
		- `atanl`  `floorf` `logl`   `tanf`
		- `ceilf`  `floorl` `modfl`  `tanhf`
		- `ceill`  `fmodf`  `modff`  `tanhl`
		- `cosf`   `fmodl`  `powf`   `tanl`
	- [ ] There are also built-in functions (below) corresponding to the TS 18661-3 functions `fabsfn`, `fabsfnx`, `copysignfn` and `copysignfnx`, for supported types `_Floatn` and `_Floatnx`. 
		- `__builtin_fabsfn`
		- `__builtin_fabsfnx`
		- `__builtin_copysignfn`
		- `__builtin_copysignfnx`
	- [ ] The ISO C90 functions (below) are all recognized as built-in functions unless `-fno-builtin` is specified (or `-fno-builtin-function` is specified for an individual function). All of these functions have corresponding versions prefixed with `__builtin_`. 
		- `abort`   `frexp`    `log`      `sscanf`  `vsprintf`
		- `abs`     `fscanf`   `malloc`   `strcat`
		- `acos`    `isalnum`  `memchr`   `strchr`
		- `asin`    `isalpha`  `memcmp`   `strcmp`
		- `atan2`   `iscntrl`  `memcpy`   `strcpy`
		- `atan`    `isdigit`  `memset`   `strcspn`
		- `calloc`  `isgraph`  `modf`     `strlen`
		- `ceil`    `islower`  `pow`      `strncat`
		- `cosh`    `isprint`  `printf`   `strncmp`
		- `cos`     `ispunct`  `putchar`  `strncpy`
		- `exit`    `isspace`  `puts`     `strpbrk`
		- `exp`     `isupper`  `realloc`  `strrchr`
		- `fabs`    `isxdigit` `scanf`    `strspn`
		- `floor`   `tolower`  `sinh`     `strstr`
		- `fmod`    `toupper`  `sin`      `tanh`
		- `fprintf` `labs`     `snprintf` `tan`
		- `fputs`   `ldexp`    `sprintf`  `vfprintf`
		- `free`    `log10`    `sqrt`     `vprintf`
- [ ] 
## Emscripten Notes
- [ ] [Github](https://github.com/emscripten-core/emscripten/tree/main) [Website](https://emscripten.org/)
- [ ] Passing `-o name.wasm` generates *.wasm* only. Passing `-o name.js` outputs *.wasm* **and** *.js* files. Passing `-o name.html` outputs *.wasm*, *.js*, **and** *.html* files
- [ ] [Download and Install Instructions](https://emscripten.org/docs/getting_started/downloads.html#sdk-download-and-install)
	- [ ] Download or clone the emsdk repository `https://github.com/emscripten-core/emsdk.git`
	- [ ] Run `emsdk.bat install latest`
	- [ ] Run `emsdk.bat activate latest` (pass `--permanent` to avoid needing to run `emsdk_env.bat` all the time)
	- [ ] Inside build.bat run `emsdk_env.bat` to add things like `emcc` and `em++` to `PATH`
- [ ] You can use `--preload-fil path.txt` to preload a file and make it available to functions like `fopen` from the C stdlib
- [ ] Use `-sOPTION[=VALUE]` command line arg to set emscripten specific options (related to `src/settings.js`??)
	- [ ] All Options:
		`ASSERTIONS`, `STACK_OVERFLOW_CHECK`, `CHECK_NULL_WRITES`, `VERBOSE`, `INVOKE_RUN`, `EXIT_RUNTIME`, `STACK_SIZE`, `MALLOC`, `ABORTING_MALLOC`, `INITIAL_HEAP`, `INITIAL_MEMORY`, `MAXIMUM_MEMORY`, `ALLOW_MEMORY_GROWTH`, `MEMORY_GROWTH_GEOMETRIC_STEP`, `MEMORY_GROWTH_GEOMETRIC_CAP`, `MEMORY_GROWTH_LINEAR_STEP`, `MEMORY64`, `INITIAL_TABLE`, `ALLOW_TABLE_GROWTH`, `GLOBAL_BASE`, `TABLE_BASE`, `USE_CLOSURE_COMPILER`, `CLOSURE_WARNINGS`, `IGNORE_CLOSURE_COMPILER_ERRORS`, `DECLARE_ASM_MODULE_EXPORTS`, `INLINING_LIMIT`, `SUPPORT_BIG_ENDIAN`, `SAFE_HEAP`, `SAFE_HEAP_LOG`, `EMULATE_FUNCTION_POINTER_CASTS`, `EXCEPTION_DEBUG`, `DEMANGLE_SUPPORT`, `LIBRARY_DEBUG`, `SYSCALL_DEBUG`, `SOCKET_DEBUG`, `DYLINK_DEBUG`, `FS_DEBUG`, `SOCKET_WEBRTC`, `WEBSOCKET_URL`, `PROXY_POSIX_SOCKETS`, `WEBSOCKET_SUBPROTOCOL`, `OPENAL_DEBUG`, `WEBSOCKET_DEBUG`, `GL_ASSERTIONS`, `TRACE_WEBGL_CALLS`, `GL_DEBUG`, `GL_TESTING`, `GL_MAX_TEMP_BUFFER_SIZE`, `GL_UNSAFE_OPTS`, `FULL_ES2`, `GL_EMULATE_GLES_VERSION_STRING_FORMAT`, `GL_EXTENSIONS_IN_PREFIXED_FORMAT`, `GL_SUPPORT_AUTOMATIC_ENABLE_EXTENSIONS`, `GL_SUPPORT_SIMPLE_ENABLE_EXTENSIONS`, `GL_TRACK_ERRORS`, `GL_SUPPORT_EXPLICIT_SWAP_CONTROL`, `GL_POOL_TEMP_BUFFERS`, `GL_EXPLICIT_UNIFORM_LOCATION`, `GL_EXPLICIT_UNIFORM_BINDING`, `USE_WEBGL2`, `MIN_WEBGL_VERSION`, `MAX_WEBGL_VERSION`, `WEBGL2_BACKWARDS_COMPATIBILITY_EMULATION`, `FULL_ES3`, `LEGACY_GL_EMULATION`, `GL_FFP_ONLY`, `GL_PREINITIALIZED_CONTEXT`, `USE_WEBGPU`, `STB_IMAGE`, `GL_DISABLE_HALF_FLOAT_EXTENSION_IF_BROKEN`, `GL_WORKAROUND_SAFARI_GETCONTEXT_BUG`, `GL_ENABLE_GET_PROC_ADDRESS`, `JS_MATH`, `POLYFILL_OLD_MATH_FUNCTIONS`, `LEGACY_VM_SUPPORT`, `ENVIRONMENT`, `LZ4`, `DISABLE_EXCEPTION_CATCHING`, `EXCEPTION_CATCHING_ALLOWED`, `DISABLE_EXCEPTION_THROWING`, `EXPORT_EXCEPTION_HANDLING_HELPERS`, `EXCEPTION_STACK_TRACES`, `WASM_LEGACY_EXCEPTIONS`, `NODEJS_CATCH_EXIT`, `NODEJS_CATCH_REJECTION`, `ASYNCIFY`, `ASYNCIFY_IMPORTS`, `ASYNCIFY_IGNORE_INDIRECT`, `ASYNCIFY_STACK_SIZE`, `ASYNCIFY_REMOVE`, `ASYNCIFY_ADD`, `ASYNCIFY_PROPAGATE_ADD`, `ASYNCIFY_ONLY`, `ASYNCIFY_ADVISE`, `ASYNCIFY_LAZY_LOAD_CODE`, `ASYNCIFY_DEBUG`, `ASYNCIFY_EXPORTS`, `JSPI`, `JSPI_EXPORTS`, `JSPI_IMPORTS`, `EXPORTED_RUNTIME_METHODS`, `EXTRA_EXPORTED_RUNTIME_METHODS`, `INCOMING_MODULE_JS_API`, `CASE_INSENSITIVE_FS`, `FILESYSTEM`, `FORCE_FILESYSTEM`, `NODERAWFS`, `NODE_CODE_CACHING`, `EXPORTED_FUNCTIONS`, `EXPORT_ALL`, `EXPORT_KEEPALIVE`, `RETAIN_COMPILER_SETTINGS`, `DEFAULT_LIBRARY_FUNCS_TO_INCLUDE`, `INCLUDE_FULL_LIBRARY`, `RELOCATABLE`, `MAIN_MODULE`, `SIDE_MODULE`, `RUNTIME_LINKED_LIBS`, `BUILD_AS_WORKER`, `PROXY_TO_WORKER`, `PROXY_TO_WORKER_FILENAME`, `PROXY_TO_PTHREAD`, `LINKABLE`, `STRICT`, `IGNORE_MISSING_MAIN`, `STRICT_JS`, `WARN_ON_UNDEFINED_SYMBOLS`, `ERROR_ON_UNDEFINED_SYMBOLS`, `SMALL_XHR_CHUNKS`, `HEADLESS`, `DETERMINISTIC`, `MODULARIZE`, `EXPORT_ES6`, `USE_ES6_IMPORT_META`, `EXPORT_NAME`, `DYNAMIC_EXECUTION`, `BOOTSTRAPPING_STRUCT_INFO`, `EMSCRIPTEN_TRACING`, `USE_GLFW`, `WASM`, `STANDALONE_WASM`, `BINARYEN_IGNORE_IMPLICIT_TRAPS`, `BINARYEN_EXTRA_PASSES`, `WASM_ASYNC_COMPILATION`, `DYNCALLS`, `WASM_BIGINT`, `EMIT_PRODUCERS_SECTION`, `EMIT_EMSCRIPTEN_LICENSE`, `LEGALIZE_JS_FFI`, `USE_SDL`, `USE_SDL_GFX`, `USE_SDL_IMAGE`, `USE_SDL_TTF`, `USE_SDL_NET`, `USE_ICU`, `USE_ZLIB`, `USE_BZIP2`, `USE_GIFLIB`, `USE_LIBJPEG`, `USE_LIBPNG`, `USE_REGAL`, `USE_BOOST_HEADERS`, `USE_BULLET`, `USE_VORBIS`, `USE_OGG`, `USE_MPG123`, `USE_FREETYPE`, `USE_SDL_MIXER`, `USE_HARFBUZZ`, `USE_COCOS2D`, `USE_MODPLUG`, `SDL2_IMAGE_FORMATS`, `SDL2_MIXER_FORMATS`, `USE_SQLITE3`, `SHARED_MEMORY`, `WASM_WORKERS`, `AUDIO_WORKLET`, `WEBAUDIO_DEBUG`, `PTHREAD_POOL_SIZE`, `PTHREAD_POOL_SIZE_STRICT`, `PTHREAD_POOL_DELAY_LOAD`, `DEFAULT_PTHREAD_STACK_SIZE`, `PTHREADS_PROFILING`, `ALLOW_BLOCKING_ON_MAIN_THREAD`, `PTHREADS_DEBUG`, `EVAL_CTORS`, `TEXTDECODER`, `EMBIND_STD_STRING_IS_UTF8`, `EMBIND_AOT`, `OFFSCREENCANVAS_SUPPORT`, `OFFSCREENCANVASES_TO_PTHREAD`, `OFFSCREEN_FRAMEBUFFER`, `FETCH_SUPPORT_INDEXEDDB`, `FETCH_DEBUG`, `FETCH`, `WASMFS`, `SINGLE_FILE`, `AUTO_JS_LIBRARIES`, `AUTO_NATIVE_LIBRARIES`, `MIN_FIREFOX_VERSION`, `MIN_SAFARI_VERSION`, `MIN_CHROME_VERSION`, `MIN_NODE_VERSION`, `SUPPORT_ERRNO`, `MINIMAL_RUNTIME`, `MINIMAL_RUNTIME_STREAMING_WASM_COMPILATION`, `MINIMAL_RUNTIME_STREAMING_WASM_INSTANTIATION`, `SUPPORT_LONGJMP`, `DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR`, `HTML5_SUPPORT_DEFERRING_USER_SENSITIVE_REQUESTS`, `MINIFY_HTML`, `MAYBE_WASM2JS`, `ASAN_SHADOW_SIZE`, `USE_OFFSET_CONVERTER`, `LOAD_SOURCE_MAP`, `DEFAULT_TO_CXX`, `PRINTF_LONG_DOUBLE`, `SEPARATE_DWARF_URL`, `ERROR_ON_WASM_CHANGES_AFTER_LINK`, `ABORT_ON_WASM_EXCEPTIONS`, `PURE_WASI`, `IMPORTED_MEMORY`, `SPLIT_MODULE`, `AUTOLOAD_DYLIBS`, `ALLOW_UNIMPLEMENTED_SYSCALLS`, `TRUSTED_TYPES`, `POLYFILL`, `RUNTIME_DEBUG`, `LEGACY_RUNTIME`, `SIGNATURE_CONVERSIONS`, `LEGACY_SETTINGS`
> Historically no VM has supported more >2GB+, and only recently (Mar 2020) has support started to appear. As support is limited, it's safer for people to opt into >2GB+ heaps rather than get a build that may not work on all VMs.
- [ ] 
## Links
- [ ] [SourceMaps Specification](https://sourcemaps.info/spec.html)
- [ ] [Example repository](https://github.com/PetterS/clang-wasm) for compiling to wasm with clang
- [ ] [Wasm explorer](https://mbebenita.github.io/WasmExplorer/)
- [ ] [Compiling C to WebAssembly and Running it Without Emscripten](https://depth-first.com/articles/2019/10/16/compiling-c-to-webassembly-and-running-it-without-emscripten/)
- [ ] [WebGPU Browser Support](https://developer.mozilla.org/en-US/docs/Web/API/WebGPU_API#browser_compatibility)
- [ ] [Sokol WebGL Samples](https://floooh.github.io/sokol-html5/index.html)
- [ ] 
## Clang WebAssembly Compiler Options
```bash
	-matomics, -mno-atomics
	-mbulk-memory, -mno-bulk-memory
	-mexception-handling, -mno-exception-handling
	-mextended-const, -mno-extended-const
	-mmultimemory, -mno-multimemory
	-mmultivalue, -mno-multivalue
	-mmutable-globals, -mno-mutable-globals
	-mnontrapping-fptoint, -mno-nontrapping-fptoint
	-mreference-types, -mno-reference-types
	-mrelaxed-simd, -mno-relaxed-simd
	-msign-ext, -mno-sign-ext
	-msimd128, -mno-simd128
	-mtail-call, -mno-tail-call
```
